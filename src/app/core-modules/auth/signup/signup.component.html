<div class="min-h-screen bg-brand-surface flex items-center justify-center px-4 py-10">
  <div class="w-full max-w-md rounded-3xl bg-white p-8 shadow-[0_35px_60px_rgba(6,180,139,0.15)]">
    <div class="mb-8 text-center">
      <h1 class="text-2xl font-semibold text-brand-primary">Create your doctor account</h1>
      <p class="mt-2 text-sm text-brand-neutral/70">
        Let's get you onboarded so you can access your personalised dashboard.
      </p>
    </div>

    <form [formGroup]="formGroup" (ngSubmit)="onSubmit()" novalidate>
      <div class="mb-5">
        <label class="mb-2 block text-sm font-medium text-brand-neutral" for="mobileNo">
          Mobile number
        </label>
        <input
          id="mobileNo"
          type="tel"
          formControlName="mobileNo"
          class="w-full rounded-xl border border-brand-primary/20 px-4 py-3 text-sm outline-none focus:border-brand-primary focus:ring-2 focus:ring-brand-primary/20"
          placeholder="+8801XXXXXXXXX"
          [attr.aria-invalid]="controls['mobileNo'].invalid && (controls['mobileNo'].touched || submitAttempted)"
        />
        <div
          class="mt-1 text-xs text-red-500"
          *ngIf="controls['mobileNo'].errors && (controls['mobileNo'].touched || submitAttempted)"
        >
          <span *ngIf="controls['mobileNo'].errors['required']">Mobile number is required.</span>
          <span *ngIf="controls['mobileNo'].errors['pattern']">Enter a valid Bangladeshi mobile number.</span>
        </div>
      </div>

      <div class="mb-5">
        <label class="mb-2 block text-sm font-medium text-brand-neutral" for="password">
          Password
        </label>
        <input
          id="password"
          type="password"
          formControlName="password"
          autocomplete="new-password"
          class="w-full rounded-xl border border-brand-primary/20 px-4 py-3 text-sm outline-none focus:border-brand-primary focus:ring-2 focus:ring-brand-primary/20"
        />
        <div
          class="mt-1 text-xs text-red-500"
          *ngIf="controls['password'].errors && (controls['password'].touched || submitAttempted)"
        >
          <span *ngIf="controls['password'].errors['required']">Password is required.</span>
          <span *ngIf="controls['password'].errors['minlength']">Use at least 6 characters.</span>
        </div>
      </div>

      <div class="mb-6">
        <label class="mb-2 block text-sm font-medium text-brand-neutral" for="confirmPassword">
          Confirm password
        </label>
        <input
          id="confirmPassword"
          type="password"
          formControlName="confirmPassword"
          autocomplete="new-password"
          class="w-full rounded-xl border border-brand-primary/20 px-4 py-3 text-sm outline-none focus:border-brand-primary focus:ring-2 focus:ring-brand-primary/20"
        />
        <div
          class="mt-1 text-xs text-red-500"
          *ngIf="controls['confirmPassword'].errors && (controls['confirmPassword'].touched || submitAttempted)"
        >
          <span *ngIf="controls['confirmPassword'].errors['required']">Please confirm your password.</span>
        </div>
        <div
          class="mt-1 text-xs text-red-500"
          *ngIf="formGroup.errors?.['passwordMismatch'] && (formGroup.touched || submitAttempted)"
        >
          Passwords do not match.
        </div>
      </div>

      <div *ngIf="submitError()" class="mb-4 rounded-xl bg-red-50 px-3 py-2 text-xs text-red-600">
        {{ submitError() }}
      </div>

      <button
        type="submit"
        class="flex w-full items-center justify-center rounded-xl bg-brand-primary px-4 py-3 text-sm font-semibold text-white transition hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:bg-brand-primary/60"
        [disabled]="loading()"
      >
        <ng-container *ngIf="!loading(); else loadingTpl">Create account</ng-container>
      </button>
      <ng-template #loadingTpl>
        <span class="flex items-center gap-2">
          <span class="h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"></span>
          Processing...
        </span>
      </ng-template>
    </form>

    <p class="mt-8 text-center text-sm text-brand-neutral/70">
      Already registered?
      <a routerLink="/login" class="font-semibold text-brand-primary hover:underline">Log in</a>
    </p>
  </div>
</div>
