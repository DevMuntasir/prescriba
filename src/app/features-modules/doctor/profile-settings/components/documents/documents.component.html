<section class="profile-card">
  <header class="profile-card__header">
    <div>
      <p class="profile-card__eyebrow">Documents</p>
      <h2 class="profile-card__title">Digital Signature</h2>
    </div>
  </header>

  <div class="profile-signature" *ngIf="!loading; else loadingState">
    <ng-container *ngIf="currentSignatureUrl; else emptySignature">
      <img [src]="currentSignatureUrl" alt="Doctor Signature" />
    </ng-container>
    <ng-template #emptySignature>
      <p class="profile-text-muted">No signature uploaded yet.</p>
    </ng-template>
  </div>
  <ng-template #loadingState>
    <p class="profile-text-muted">Loading signature.</p>
  </ng-template>

  <div class="profile-upload">
    <input
      #fileInput
      class="profile-upload__input"
      type="file"
      accept="image/*"
      (change)="onFileChange($event)"
    />
    <span class="profile-text-muted" *ngIf="selectedFileName">{{ selectedFileName }}</span>
    <button type="button" class="profile-btn profile-btn--primary" (click)="upload()" [disabled]="uploading || !doctorId">
      {{ uploading ? 'Uploading...' : 'Upload Signature' }}
    </button>
  </div>
</section>
